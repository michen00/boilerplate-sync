# Agent Guidance

This repository is a GitHub Action. This file provides context for coding agents
such as Cursor, GitHub Copilot, Claude, or other automated assistants.

## Repository Overview

- Action entrypoint: `action.yml` -> `dist/index.js`
- Source code: `src/` (TypeScript)
- Tests: `tests/` (vitest)
- Build output: `dist/` (generated by ncc and committed)

## Requirements

- Node.js >= 20
- npm

## Common Commands

- `npm install`
- `npm run build` (ncc build -> `dist/`)
- `npm run test` / `npm run test:watch`
- `npm run lint`
- `npm run type-check`
- `make check` (lint + type-check + tests)
- `make build` (install + build)

## Change Workflow (for agents)

1. Make changes in `src/` and update/add tests as needed.
2. Do not edit `dist/` by hand. Run `npm run build` to regenerate it.
3. Include `dist/` changes in the same commit as the source changes.
4. Update `README.md` or `action.yml` if inputs/outputs or behavior change.
5. Keep `package-lock.json` in sync when dependencies change.

## Testing Guidance

- For logic changes, run at least `npm run test`.
- For full verification, run `make check`.
- Doc-only changes can skip tests unless requested.

## Release Notes (only if asked)

- Tags must exist before `make release VERSION=vX.Y.Z`.
- Releases use `gh release create` with generated notes.
